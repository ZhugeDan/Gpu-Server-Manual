## 1.登录

**校园网**：（最常见,后续2.3都是这种情况的说明）

适用于用户有校园网

- **IP:** `172.16.192.54` (这是服务器校园网的静态 IP)
- **Port:** `10003` #每个人一个端口号，通过端口号区别不同人的容器
- **User:** `wangwu`
- **连接命令:** 在自己电脑任意命令行中输入（自己账号见容器表.xlsx）

```
ssh wangwu@172.16.192.54 -p 10003 
# -p为端口号，lxd通过同一网络的不同端口号来区分容器
```

**本地1**

适用于服务器没有网络，将网络通过笔记本网线共享。如果找不到服务器ip，执行：

```
arp -a
# 此命令找到 192.168.137.x 的ip即为服务器的ip。注意：x∈[2,255] ∩ x∈N*. 192.168.137.1为本地网关，不是服务器的ip地址
# 下面的可选择执行
1..255 | % {echo "192.168.137.$_"; ping -n 1 -w 20 192.168.137.$_} | Select-String "TTL="
```

**本地2**

适用于服务有网络，笔记本不共享。网络隔离，只大规模传输数据



## 2. 文件管理与传输



在**自己本地的 PowerShell(不是登录到自己的容器！）**里用 接下里的SCP命令：

​	1.先cd到本地文件夹，注意例如cde盘符之间切换要先D: ，盘符内之后再cd进入。

​	2.在要上传的文件的地址栏里输入cmd，

因为下面的命令是相对路径。

注意注意，**文件夹**上传时需要加 **““**，**单个文件**不用加引号（小文件夹推荐直接上传，大文件夹包括数据集要压缩成zip或tar格式（linux几乎不支持rar格式），会大大提升传输速率）。这一点和linux里面删除文件夹类似，删除单文件rm filename；文件夹rm -r filepackagename*

打开终端，在命令行。中输入以下命令来安装unzip:

```
sudo apt-get install unzip
```

假设你想要将zip文件解压缩到名为"target_dir”的目录中，在终端中切换到目标路径中，然后使用以下命令:

```
unzip file.zip -d target dir
```

其中，file日.zip是需要解压的zip文件的文件名，-d选项用于指定解压文件的目标路径，target dir是目标路径的名称。

压缩包解压完可以删除，

# 

```
# 传文件到服务器
# 个人传文件注意加上自己的端口号
scp -P 10001 本地文件.zip zhangsan@172.16.192.54:~/
# eg: 
scp -P 22 "C:\Users\w1450\Downloads\Anaconda3-2024.06-1-Linux-x86_64.sh" 172.16.192.54:~


# 从服务器下载文件100.124.212.5 
scp -P 10001 zhangsan@172.16.192.54:~/结果.csv ./PowerShell
```

## 3.使用

和远程服务器ssh、conda命令一模一样

**1.用你的ide，比如trae或者vscode，直接ssh连接！**代码修改同步，就可以使用软件的能力，管理本地文件，拖过去上传，结果下载到本地。帮你改代码。不用终端截图问bug了





**2.用任意终端ssh连接：**

第一步：激活 Conda

激活环境（如果是刚建的号，可能需要先加载配置文件）：

Bash

```
conda init bash
source ~/.bashrc
```

##### 第二步：创建专属环境 (不要在 base 里装包！)

虽然在 base 里也能装，但为了以后不冲突，建议你建一个自己的环境：

Bash

```
# 1. 创建一个叫 pytorch_env 的环境，指定 python 版本
conda create -n pytorch_env python=3.9 -y

# 2. 激活这个环境 
conda activate pytorch_env
```

*此时，你命令行前面的 `(base)` 会变成 **`(pytorch_env)`**。*

第三步：在环境里安装 PyTorch

Bash

```
# 使用 pip 安装 (因为我们之前配置了清华源，这会很快)
pip install torch torchvision matplotlib numpy
```

第四步：再次运行代码

安装完成后，再次尝试运行你的实验代码：

```
python exp.py
```

之后的报错，可以截图给大模型了

